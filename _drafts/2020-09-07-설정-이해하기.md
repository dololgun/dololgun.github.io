---
title: "체크스타일(checkstyle) - 2"
date: 2020-09-06 09:00:00 +0900
categories: checkstyle
---

## 설정 파일 이해하기

이전 포스팅에서 언급한데로 체크스타일에서 가장 핵심이 되는 부분은 설정파일이다. 거두절미하고 선에서 제공한 체크스타일 설정파일을 확인해보자. 파일 너무 길어 반복되는 부분과 주석은 생략하였다.

```xml
<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
          "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
          "https://checkstyle.org/dtds/configuration_1_3.dtd">

<module name="Checker">
  <property name="severity" value="error"/>
  <property name="fileExtensions" value="java, properties, xml"/>

  <!-- Excludes all 'module-info.java' files              -->
  <!-- See https://checkstyle.org/config_filefilters.html -->
  <module name="BeforeExecutionExclusionFileFilter">
    <property name="fileNamePattern" value="module\-info\.java$"/>
  </module>

  <!-- Checks for Size Violations.                    -->
  <!-- See https://checkstyle.org/config_sizes.html -->
  <module name="FileLength"/>
  <module name="LineLength">
    <property name="fileExtensions" value="java"/>
  </module>

  <!-- Checks for whitespace                               -->
  <!-- See https://checkstyle.org/config_whitespace.html -->
  <module name="FileTabCharacter"/>

  <module name="TreeWalker">

    <!-- Checks for Javadoc comments.                     -->
    <!-- See https://checkstyle.org/config_javadoc.html -->
    <module name="InvalidJavadocPosition"/>
    <module name="JavadocMethod"/>
    <module name="JavadocType"/>
    <module name="JavadocVariable"/>
    <module name="JavadocStyle"/>
    <module name="MissingJavadocMethod"/>

    <!-- https://checkstyle.org/config_filters.html#SuppressionXpathFilter -->
    <module name="SuppressionXpathFilter">
      <property name="file" value="${org.checkstyle.sun.suppressionxpathfilter.config}"
                default="checkstyle-xpath-suppressions.xml" />
      <property name="optional" value="true"/>
    </module>
  </module>
</module>
```

먼저, 설정파일은 xml이다. 그리고 가장 자주 등장하는 태그는 모듈(module)과 모듈내의 프로퍼티(property)이다. 공식 홈페이지의 정의된 내용을 번역하자면 체크스타일 설정의 개념은 다음과 같다. (발 번역 주의)

> 체크스타일 설정은 자바소스에 적용할 모듈을 정의하는 것이다. 모듈은 트리구조로 되어 있고 트리의 루트모듈은 체커(Checker) 모듈이다.

체크스타일 라이브러리안에는 다수의 모듈이 들어 있고 각 모듈은 자신만의 역할(기능)이 있다. 이 모듈을 설정에 넣으면(plug in) 동작을 할 것이고 넣지 않는다면 동작하지 않을 것이다. 

각 모듈의 고유한 프로퍼티를 가지고 있다. 이 프로퍼티의 설정을 변경하면 모듈의 동작도 변경된다. 

즉, 모듈은 넣고 뺄수 있으며 프로퍼티를 통해 설정을 할 수 있다는 것을 이해하면 된다. 이런 조합으로 체크스타일의 설정이 완성된다. 우리는 체크스타일이 제공하는 모듈의 기능과 설정 방법을 알면된다. 

공식홈페이지의 많은 부분이 모듈의 설명과 설정에 대해서 설명하고 있다. 

> 왼쪽 사이드바에서 Documentation > Configuration > Checks 부분이 모듈에 대한 설명이다.

모든 모듈에 대해서 설명할 수 없고 다 알 필요도 없다. 나도 몇 가지 모듈만 알고 있다. 필요한 기능이 있으면 그 기능을 제공하는 모듈이 있는지 찾아보고 있다면 사용법을 찾아 설정에 적용하면 된다. 





## 메이븐으로 실행하기




## 나만의 체크 만들기 

메이븐 빌드(install)를 하면 내가 만든 jar가 메이븐 로컬리포에 저장된다. 



## 이클립스 플러그인


## 

## 커스텀 체크 작성




## 이클립스 체크스타일 플러그인에 내가 만든 체크 적용하기

## 참조

https://checkstyle.sourceforge.io/