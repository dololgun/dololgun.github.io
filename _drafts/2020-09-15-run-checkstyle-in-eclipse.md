---
title: "체크스타일(checkstyle) - 4"
date: 2020-09-15 09:00:00 +0900
categories: checkstyle
---

## 개발 툴에서 체크스타일 사용하기

지금까지 개발툴을 사용하지 않고 터미널에서 커맨드라인 명령어로만 체크스타일을 사용해보았다. 물론 메이븐을 활용했기 때문에 커맨드라인 명령어가 크게 복잡하지 않아 불편없이 체크스타일을 적용할 수 있었다. 하지만, 지금까지 한 과정은 실제 업무에서 사용되는 환경과는 다소 거리가 있다. 왜냐하면 실무에서는 개발툴(IDE - 자바에서는 대표적으로 이클립스, 인텔리제이가 해당한다)을 사용하여 소스를 수정하고 컴파일하기 때문이다. 이런 상황에서 체크스타일을 사용하면 개발툴과 터미널을 오가며 일일이 체크스타일을 실행해야해서 불편하다. 개발툴에서 체크스타일을 쉽게 사용할 수 있으면 더 좋지 않을까?

그래서 이번 포스팅에서는 자바의 대표 개발툴인 이클립스를 사용하여 체크스타일을 실행해보도록 하겠다. 그런데 이클립스에서 체크스타일을 실행하는 것이 커맨드라인으로 실행하는 것과 다른 것이 전혀없다. 오히려 이클립스에서 메이븐을 실행하는 것이 더 많은 부분을 차지한다. 메이븐에 친숙한다면 이클립스에서 체크스타일을 실행하는 부분은 굳이 이 부분을 참고할 필요가 없다.

바로 이클립스에서 이전 포스팅에서 다루었던 메이븐 프로젝트를 실행해보자.

> 이 포스팅을 따라하기위해서는 이클립스와 이클립스 메이븐플러그인이 설치되어있어야 한다. 일반적으로 Eclipse Java EE를 설치하면 메이븐플러그인이 기본으로 설치되어 있다.

## 이클립스 메이븐 프로젝트

먼저, 내 이클립스가 메이븐을 실행할 수 있는 환경인지 확인해보자. 즉, 이클립스 메이븐플러그인이 설치됐는지 확인하는 것이다.

### 메이브 플러그인 확인

아래 그림과 같이 `m2e` 플러그인이 설치된 것이 보이면 메이븐 플러그인이 이클립스에 설치되어 있는 것이다. 
![메이븐플러그인 설치되어 있는 화면](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.21.06.png)

### 메이븐 프로젝트 추가

이클립스에 메이븐 플러그인이 설치되어 있다면 `pom`파일로 프로젝트를 추가할 수 있다. 이전 포스팅에서 생성했던 `pom`파일을 아래 그림과 같이 추가하자.

* 이클립스의 import기능을 사용한다.

![스크린샷 2020-09-30 오후 12.24.11](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.24.11.png)

* `pom` 파일이 있는 폴더를 import 한다.

![pom파일을 이용하여 이클립스 프로젝트 추가하기](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.25.20.png)

이클립스 메이븐 플러그인의 강력함은 `pom`파일을 추가한 것만으로도 알아서 이클립스프로젝트로 세팅을 한다. 

> 여기서 말하는 이클립스 프로젝트란 이클립스가 소스를 효율적으로 관리하기 위해 추가적으로 생성하는 다수의 파일을 포함하는 폴더그룹을 의미한다.

다음과 같이 이클립스 프로젝트로 추가된 것을 확인할 수 있다.

![스크린샷 2020-09-30 오후 12.29.49](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.29.49.png)

### 이클립스에서 메이븐 실행하기

이클립스에 `run`이라는 명령어가 있는데 이 명령어를 통해 메이븐플러그인을 수행할 수 있다. 

![메이븐 명령어 실행](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.31.27.png)

`run`명령어를 수행하면 아래 그림과 같이 메이븐 명령어를 입력하는 창이 나타난다. 터미널에서 체크스타일을 수행하기 위해 입력했던 명령어와 똑같은 명령어를 입력한다. 단,`mvn`명령어는 이클립스 메이븐 플러그인이 자동으로 입력해주기 때문에 그 이후부터의 명령어를 입력하면 된다.

![스크린샷 2020-09-30 오후 12.33.00](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.33.00.png)

한번 입력한 명령어는 이클립스가 자동으로 기억하기 때문에 다음부터는 `run`명령어를 실행하는 것만으로도 체크스타일을 수행할 수 있다. `run`을 실행하면 이전에 터미널에서 직접 입력했던 것과 똑같이 메이븐이 실행되며 그 결과도 이클립스 콘솔창에 표시되는 것을 확인할 수 있다. 

![스크린샷 2020-09-30 오후 12.33.24](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.33.24.png)

이클립스 `run`을 실행하는 단추키도 있으므로 이를 적절히 활용하면 매우 편하게 체크스타일을 수행할 수 있다.(윈도우에서는 `ALT + SHIFT + x, m`이다)

> 지금까지 했던 것은 이클립스 툴 측면에서는 단순히 메이븐을 실행만 한 것이다 이클립스가 체크스타일을 위해 별도의 역할을 한 것은 아무것도 없다. 모든 것은 메이븐이 수행했다는 것을 명심하자.


## 이클립스 체크스타일 플러그인

이클립스에서 체크스타일일 실행시키면서 문득 떠오르는 생각이있었다. 꼭 체크스타일을 실행하고 출력된 결과를 봐야만 소스의 검사가 되는 걸까?

이클립스와 같은 개발툴은 오류가 있는 소스나 불필요한 소스를 소스에디터에 waring/error로 즉시 표시해주기 때문에 굉장히 직관적이다. 이것은 개발자가 오류를 발생할 확률을 줄여주며 오류가 발생해도 즉시 해결 할 수 있도록 도와준다. 

![이클립스 오류와 경고 표시](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.36.23.png)

이와 같이 체크스타일도 규칙에 위반되는 사항을 즉시 소스에디터에 표시해주면 가독성이 훨씬 좋아지고 소스를 편집하는 시점에 즉시 위반사항을 알기 때문에 별도의 시간을 할애하여 체크스타일을 돌릴 필요도 없다. 그래서 찾아봤더니 역시 이런 기능이 있었다. 바로 이클립스 체크스타일 플러그인이다.(이클립스 메이븐 플러그인과 햇갈리지 말자)

### 이클립스 체크스타일 플러그인 소개

위에서 언급한대로 체크스타일을 이클립스에서 더욱 편하게 사용할 수 있도록 이클립스 플러그인 형태로 제공하는 곳이 있다. 자세한 정보는 [홈페이지](https://checkstyle.org/eclipse-cs/#!/) 를 방문하여 확인할 수 있다.

### 이클립스 체크스타일 플러그인 설치 

이클립스 체크스타일을 설치하는 방법이 좀 독특한데, 대부분의 이클립스 플러그인 설치는 이런 방식으로 진행되는 것 같다. 아래 그림과 같이 체크스타일 홈페이지에서 안내하는 설치 페이지를 방문하면 설치 버튼을 볼 수 있는 이 버튼을 자신의 이클립스로 드래그 앤 드랍한다. 

![스크린샷 2020-09-30 오후 12.45.08](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.45.08.png)

그러면, 자동으로 이클립스의 설치화면이 나타난다. 그 후 라이센스 동의 및 확인 과정을 거치면 손쉽게 설치를 할 수 있다. 설치 중간에 인증되지 않은 게시자 경고가 나타나는데 그냥 설치를 진행한다. 또 한, 설치가 완료되면 이클립스가 재시작된다.

![스크린샷 2020-09-30 오후 12.45.43](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.45.43.png)

설치가 완료되면 아래 그림과 같이 체크스타일 전용 메뉴가 나타나는 것을 확인할 수 있다.

![스크린샷 2020-09-30 오후 12.47.09](2020-09-15-run-checkstyle-in-eclipse.assets/스크린샷 2020-09-30 오후 12.47.09.png)

### 이클립스 체크스타일 플러그인 설정

### 이클립스 체크스타일 플러그인 실행

### 소스에디터에서 확인하기




